<!DOCTYPE html>
<html lang="en">

<head>
  <!-- SITE INFO -->
  <title>Parallax Card</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="favicon.ico?">

  <!-- ANALYTICS -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-137365487-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-137365487-1');
  </script>

  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="css/bootstrap/bootstrap.css">
</head>

<body>
  <div class="container">
    <br><br>
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="index.html" id="link">Home</a>
      </li>
      <li class="breadcrumb-item active">Parallax Card</li>
    </ol>

    <span class="badge badge-dark">Unity 2019.3.0f1</span>
    <span class="badge badge-dark">URP 7.1.6</span>
    <span class="badge badge-primary">January 9th 2019</span>
    <br><br><br>

    <br>
    <div class="text-center">
      <figure class="figure ">
        <video width="400" class="img-fluid" autoplay loop muted playsinline>
          <source src="img/videos/parallaxcard.mp4" type="video/mp4">
        </video>
        <figcaption class="figure-caption">The final result</figcaption>
      </figure>
    </div>
    <br>

    <!--INTRODUCTION-->
    <h2 class="mt-4 mb-3">Introduction</h2>
    <p>I will give a breakdown of how I made a parallax card shader using shader graph. For this shader, my personal
      challenge was to do as much as possible in the shader itself without relying on any textures. In the end, the only
      things I used 3D models for or textures are the little pokemon scene in the center of the card, and the text on
      the card. The
      design of
      the card was largely inspired by <a target="_blank" href="https://twitter.com/bobacupcake">Rob Fichman</a>'s
      work. The 3D model of the pokemon can be found <a target="_blank"
        href="https://sketchfab.com/3d-models/cosmog-d928b7339a9b4ecb841162c53b4c4f4a">here</a> on sketchfab.
    </p>


    <br>
    <h2 class="mt-4 mb-3">Card Frame</h2>
    <p>The main structure of the card consists of the outer frame, the divider at the bottom, the window and the title
      bar below the window. All of these are drawn using rectangle and polygon nodes. I have full control over these
      components which allows me to quickly change the structure and layout of the card. Here are some of the properties
      that control this card structure.
    </p>


    <br>
    <div class="text-center">
      <figure class="figure ">
        <img src="img/shaders/parallax-card/frame-properties.png" class="figure-img" alt="">
      </figure>
    </div>
    <br>

    <p>In total, the shader has 65 exposed properties. This is quite a lot, but I like that I can tweak variables as
      much
      as I want until I'm happy with the result.</p>


    <br>
    <h2 class="mt-4 mb-3">Icons</h2>
    <p>The card features several drawings like the pokemon-type icons and the celestial bodies on the right bottom
      corner
      of the card. All of these are a combination of ellipse nodes and custom SDF nodes. Signed
      distance functions are extremely powerful for creating arbitrary shapes. For the corner pattern, the stars are
      made
      out of 2 <i>Vesica</i> SDFs blended together. The moon
      is made out of 2 spheres and the planet is made out of spheres and ellipses. I added a parallax effect to fake
      depth.</p>

    <br>
    <div class="text-center">
      <figure class="figure ">
        <img src="img/shaders/parallax-card/corner-pattern.gif" width="300" class="figure-img" alt="">
        <figcaption class="figure-caption"></figcaption>
      </figure>
    </div>
    <br>

    <p>For practice, I decided to re-create several of the pokemon-types. This was very fun to work on.</p>


    <br>
    <div class="text-center">
      <img src="img/shaders/parallax-card/types/dark.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/poison.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/psychic.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/electric.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/normal1.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/normal2.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/pokeball.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/steel1.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/steel2.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/rock.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/bug.png" class="figure-img" alt="">
      <img src="img/shaders/parallax-card/types/fairy.png" class="figure-img" alt="">
      <!--Width = 180-->
    </div>
    <br>

    <br><br>
    <h2 class="mt-4 mb-3">Raymarched Spheres</h2>
    <p>The little spheres in the card that I use for the pokemon types and the attacks, are raymarched spheres. Together
      with some Blinn-Phong lighting they look 3D and I can fake having 3D objects in the shader without having any real
      3D geometry.</p>

    <br>
    <div class="text-center">
      <figure class="figure ">
        <img src="img/shaders/parallax-card/impostor.gif" class="figure-img" alt="">

      </figure>
    </div>
    <br>


    <br>
    <h2 class="mt-4 mb-3">Text</h2>
    <p>At first, I attempted to do the text in-shader as well. This is possible for sure, using bezier curves and SDFs
      and
      I actually got quite close to rendering letters how I wanted to. In the end though, it was quite a lot of work to
      render text with the exact font that I wanted, so I decided to use a texture like a sane person.</p>

    <br>
    <div class="text-center">
      <figure class="figure ">
        <img src="img/shaders/parallax-card/text.png_small" height="300" class="figure-img" alt="">
        <img src="img/shaders/parallax-card/text2.png_small" height="300" class="figure-img" alt="">
      </figure>
    </div>
    <br>

    <br>
    <h2 class="mt-4 mb-3">Holographic Sparkles</h2>
    <p>For the sparkles I created some patterns using voronoi nodes. Then by converting the colors to directions and
      taking the dot product of this direction and the view direction, I could make different sparkles show up under
      different viewing angles.</p>

    <br>
    <div class="text-center">
      <figure class="figure ">
        <img src="img/shaders/parallax-card/voronoi1.png" class="figure-img" alt="">
        <img src="img/shaders/parallax-card/voronoi2.png" class="figure-img" alt="">
        <img src="img/shaders/parallax-card/voronoi3.png" class="figure-img" alt="">
      </figure>
    </div>
    <br>

    <p>Multiple voronoi patterns were overlayed to generate a more interesting pattern.</p>


    <br>
    <h2 class="mt-4 mb-3">Parallax Effect</h2>
    <p>Several elements of the card use some kind of parallax effect. A parallax effect can be achieved by offsetting
      the UVs based on the view direction. </p>

    <br>
    <div class="text-center">
      <figure class="figure ">
        <img src="img/shaders/parallax-card/parallax-offset.png" class="figure-img" alt="">
        <figcaption class="figure-caption"></figcaption>
      </figure>
    </div>
    <br>

    <p>Using parallax is great way to achieve some sense of depth in an otherwise flat card.</p>


    <br>
    <h2 class="mt-4 mb-3">Stencil Shader</h2>
    <p>A stencil shader was used to make it so that the 3D pokemon scene is only visible through the window of the card
      itself. To do this in URP I'd like to point to <a target="_blank"
        href="https://twitter.com/Cyanilux/status/1193513267534151680?s=20">this post</a> that explains it very well.
    </p>

    <br>
    <div class="text-center">
      <figure class="figure ">
        <img src="img/shaders/parallax-card/stencil.gif" class="figure-img" alt="">

      </figure>
    </div>
    <br>



    <br>
    <h2 class="mt-4 mb-3">Final Thoughts</h2>
    <p>Some things are worth it, some things are not. If this were an actual project and not just me fooling around, I
      should for sure have used real spheres instead of raymarched ones in order to save time. The little icons however,
      were quick and fun to create so in the future I will do those kind of things in-shader. Another thing is that
      because I tried to do everything in 1 shader, my graph was very very large. With 65 properties and over 10
      subgraphs, shadergraph slowed down quite a lot. </p>


    <br>
    <h2 class="mt-4 mb-3">Useful Resources</h2>
    <p>Here are some extra resources that were useful to me.</p>

    <a target="_blank"
      href="https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm">https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm</a><br>

    <a target="_blank"
      href="https://github.com/gilescoope/shader-graph-nodes/tree/master/Nodes/SDF">https://github.com/gilescoope/shader-graph-nodes/tree/master/Nodes/SDF</a><br>
    <a target="_blank"
      href="http://jamie-wong.com/2016/07/15/ray-marching-signed-distance-functions/">http://jamie-wong.com/2016/07/15/ray-marching-signed-distance-functions/</a>


    <br><br><br>

    <div class="row">
      <div class="col-7 tutorial-footer">
        <div class="col">
          <div class="row">
            <p>Have questions or feedback? Contact me! </p>
          </div>
          <div class="row">
            <div class="col-0">
              <a target="_blank" href="https://twitter.com/alexanderameye" id="link">twitter</a>
            </div>
            <div class="col-1">
              <a href="mailto:alexanderameye@gmail.com" id="link">alexanderameye@gmail.com</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br><br><br>
  </div>


  <script src="js/jquery/jquery.min.js"></script>
  <script src="js/popper/popper.min.js"></script>
  <script src="js/bootstrap/bootstrap.min.js"></script>
</body>

</html>