<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-137365487-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-137365487-1');
    </script>

    <link rel="icon" type="image/png" href="assets/icon.png" sizes="32x32" />
    <title>Waves</title>
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script>

    <meta charset="utf-8" />

    <meta property="og:title" content="Alexander Ameye" />
    <meta property="og:site_name" content="Alexander Ameye" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://alexanderameye.github.io/toon-shading/" />

    <meta name="description" content="" />
    <meta name="author" content="Alexander ameye" />

    <style type="text/css">

div {
width: auto;
  padding: 10px;
  border: 2px dotted blue;
  margin: 0;
  text-align: center;

}


        p.p1 {
            margin: 0.0px 0.0px 0.0px 0.0px;
            font: 13.0px Arial;
            text-align: justify;
        }

        p.p2 {
            margin: 0.0px 0.0px 0.0px 0.0px;
            font: 13.0px Arial;
            min-height: 14.0px;
            text-align: justify;
        }

        a:link {
            color: blue;
            text-decoration: none;
            font-weight: bold;
        }

        a:visited {
            color: blue;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        pre {
            font: 13.0px Courier;
            width: 800px;
            text-align: justify;
            position: relative;
            white-space: -moz-pre-wrap;
            /* Mozilla, supported since 1999 */
            white-space: -pre-wrap;
            /* Opera */
            white-space: -o-pre-wrap;
            /* Opera */
            white-space: pre-wrap;
            /* CSS3 - Text module (Candidate Recommendation) http://www.w3.org/TR/css3-text/#white-space */
            word-wrap: break-word;
            /* IE 5.5+ */
        }

        span.white {
            color: white;
        }

        p span.show {
            display: none;
        }

        p:hover span.show {
            display: inline;
        }

        p:hover span.noshow {
            display: none;
        }
    </style>

</head>

<body>
    <pre>
<h1>Water 2: Waves</h1><a href="../index.html">Back to projects</a>

<img src="assets/sine_wave.gif" width="300" heigh="300">
<i>The final effect.</i>

<h1>Setup</h1>Before we add waves to our shader, we need to have a tessellated plane. We would use the basic Unity plane, but it does not have enough vertices to get the smooth wave movement we want. If you want to know how to create a tessellated plane, be sure to check out the previous tutorial.

<h1>What Are Waves?</h1><div>Want to <a href="#tutorial-shortcut" style="color:blue">skip theory</a>?
</div>
When thinking about (mechanical) waves in the context of water, we could see them as <i><b>the propagation
of energy through a medium (the water)</b></i>. When the energy reaches a certain water particle, that particle gets <b><i>excited</i></b> and moves upwards. When we send this energy through the medium in an oscillating way, the movement of the particles will be oscillating as well. Mechanical waves transport energy. 

<img src="assets/wave_motion.jpg" width="546" height="193">
<i>Wave Propagation</i>

The profile of the wave will depend on the variation of the energy source. When we look at water waves in particular, wind is usually the energy source that causes wave propagation. The image below shows the absolute movement of a single particle in a body of water. As you can see it not only moves up an down but it follows an almost circular path and has displacement on 2 axes.

<img src="assets/water_wave.gif">
<i>Water Wave</i>

<h1>Simple Waves</h1>When simulating waves in a shader, we will be changing the position (x,y,z) of every single vertex point of our water plane over time (t). We will start by creating a simple sine wave. A sine wave has several properties, we can present a sine wave as follows.

y(t) = asin(wt + c) + d

OR

y(x) = asin(wx + c) + d

where

a = amplitude
w = angular frequency
c = phase offset (θ, theta)
d = vertical offset (y0)

the following relationships also exist

w = 2πf where f = frequency
f = 1/T (T = period, for y(t))
f = 1/λ (λ = wavelength, lambda, for y(x))

In the image below you can see that it is important to differentiate between a sine wave y(t) and y(x). In the case of y(t), we talk about the <i><b>time</b></i> between 2 high points and call that the <i><b>period T</b></i>. In the case of y(x) we talk about the <i><b>distance</b></i> between 2 high points and call that the <i><b>wavelength λ</b></i>.
<img src="assets/sine.gif">

<a name="tutorial-shortcut"></a>
Now let's move our water plane using a sine wave in shader graph. Our node setup looks like this.

<img src="assets/sine_wave_nodes.png">

Basically we just convert the following formula into nodes.

y(x,t) = asin[(2π/λ)(vt+x)]+y0

The y position of each vertex depends on the x position of the vertex and the time. We introduce a speed variable v that will control <i>how fast time progresses</i>. We get the following result.

<img src="assets/sine_wave.gif" width="300" heigh="300">

This looks alright but this is not how water waves look in the real world, we can do better!

<h1>More Complex Waves</h1>

<h1>Gerstner Waves</h1>



<h1>Sources</h1>
<a href="https://en.wikipedia.org/wiki/Mechanical_wave" target="_blank">https://en.wikipedia.org/wiki/Mechanical_wave</a>
<a href="https://en.wikipedia.org/wiki/Wind_wave" target="_blank">https://en.wikipedia.org/wiki/Wind_wave</a>
<a href="https://catlikecoding.com/unity/tutorials/flow/waves/" target="_blank">https://catlikecoding.com/unity/tutorials/flow/waves/</a>

<hr>
<a href="http://www.twitter.com/alexanderameye" target="_blank">@alexanderameye</a>
<a href="mailto:alexanderameye@gmail.com">alexanderameye@gmail.com</a>

</body>

</html>